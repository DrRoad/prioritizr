<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add boundary penalties — add_boundary_penalties • prioritizr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>


<!-- docsearch -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<link href="../docsearch.css" rel="stylesheet">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Add boundary penalties — add_boundary_penalties" />

<meta property="og:description" content="Add penalties to a conservation planning problem to favor
solutions that have planning units clumped together into contiguous areas." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70466840-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70466840-4');
</script>



<!-- docsearch -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">prioritizr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">4.0.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/prioritizr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/gurobi_installation.html">Gurobi Installation Guide</a>
    </li>
    <li>
      <a href="../articles/publication_record.html">Publication Record</a>
    </li>
    <li>
      <a href="../articles/saltspring.html">Salt Spring Island Tutorial</a>
    </li>
    <li>
      <a href="../articles/tasmania.html">Tasmania Tutorial</a>
    </li>
    <li>
      <a href="../articles/zones.html">Management Zones</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/prioritizr/prioritizr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add boundary penalties</h1>
    <small class="dont-index">Source: <a href='https://github.com/prioritizr/prioritizr/blob/master/R/add_boundary_penalties.R'><code>R/add_boundary_penalties.R</code></a></small>
    <div class="hidden name"><code>add_boundary_penalties.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Add penalties to a conservation planning <code>problem</code> to favor
solutions that have planning units clumped together into contiguous areas.</p>
    
    </div>

    <pre class="usage"><span class='fu'>add_boundary_penalties</span>(<span class='no'>x</span>, <span class='no'>penalty</span>, <span class='kw'>edge_factor</span> <span class='kw'>=</span> <span class='fu'>rep</span>(<span class='fl'>0.5</span>, <span class='fu'>number_of_zones</span>(<span class='no'>x</span>)),
  <span class='kw'>zones</span> <span class='kw'>=</span> <span class='fu'>diag</span>(<span class='fu'>number_of_zones</span>(<span class='no'>x</span>)), <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code><a href='ConservationProblem-class.html'>ConservationProblem-class</a></code> object.</p></td>
    </tr>
    <tr>
      <th>penalty</th>
      <td><p><code>numeric</code> penalty that is used to scale the importance
of selecting planning units that are spatially clumped together compared
to the main problem objective (e.g. solution cost when the argument to
<code>x</code> has a minimum set objective set using
<code>add_min_set_objective</code>). Higher <code>penalty</code> values
will return solutions with a higher degree of spatial clumping,
and smaller <code>penalty</code> values will return solutions with a smaller
degree of clumping. Note that negative <code>penalty</code> values will
return solutions that are more spread out. This parameter is equivalent to
the
<a href='http://marxan.net/downloads/uq_marxan_web_2/module2.html'>boundary length modifier (BLM)</a>
parameter in <a href='http://marxan.net'><em>Marxan</em></a>.</p></td>
    </tr>
    <tr>
      <th>edge_factor</th>
      <td><p><code>numeric</code> proportion to scale
planning unit edges (or borders) that do not have any neighboring planning
units. For example, an edge factor of <code>0.5</code> is commonly used for
planning units along the coast line. Note that this argument must have an
element for each zone in the argument to <code>x</code>.</p></td>
    </tr>
    <tr>
      <th>zones</th>
      <td><p><code>matrix</code> or <code>Matrix</code> object describing the
clumping scheme for different zones. Each row and column corresponds to a
different zone in the argument to <code>x</code>, and cell values indicate the
relative importance of clumping planning units that are allocated to
a pair of zones. Cell values along the diagonal of the matrix represent
the relative importance of clumping planning units that are allocated
to the same zone. Cell values must lay between 1 and -1, where negative
values favor solutions that spread out planning units. The default
argument to <code>zones</code> is an identity
matrix (i.e. a matrix with ones along the matrix diagonal and zeros
elsewhere), so that penalties are incurred when neighboring planning units
are not assigned to the same zone. <strong>Note that if the cells along
the matrix diagonal contain markedly lower values than cells found
elsewhere in the matrix, then the optimal solution may surround
planning units with planning units that are allocated to different zones.</strong></p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p><code>NULL</code>, <code>data.frame</code>, <code>matrix</code>, or <code>Matrix</code>
object containing the boundary data. The boundary values
correspond to the shared boundary length between different planning units
and the amount of exposed boundary length that each planning unit has
which is not shared with any other planning unit. Given a certain
<code>penalty</code> value, it is more desirable to select combinations of
planning units which do not expose larger boundaries that are shared
between different planning units. See the Details section for more
information.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code><a href='ConservationProblem-class.html'>ConservationProblem-class</a></code> object with the penalties
 added to it.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function adds penalties to a conservation planning problem
  to penalize fragmented solutions. It was is inspired by Ball <em>et al.</em>
  (2009) and Beyer <em>et al.</em> (2016). The <code>penalty</code> argument is
  equivalent to the boundary length modifier (<code>BLM</code>) used in
  <a href='http://marxan.net'><em>Marxan</em></a>. Note that this function can only
  be used to represent symmetric relationships between planning units. If
  asymmetric relationships are required, use the
  <code>add_connectivity_penalties</code> function.</p>
<p>The argument to <code>data</code> can be specified in several different ways:</p>
<p></p><dl class='dl-horizontal'>
    <dt><code>NULL</code></dt><dd><p>the boundary data are automatically calculated
    using the <code><a href='boundary_matrix.html'>boundary_matrix</a></code> function. This argument is the
    default. Note that the boundary data must be manually defined
    using one of the other formats below when the planning unit data
    in the argument to <code>x</code> is not spatially referenced (e.g.
    in <code>data.frame</code> or <code>numeric</code> format).</p></dd>
    <dt><code>matrix</code>, <code>Matrix</code></dt><dd><p>where rows and columns represent
    different planning units and the value of each cell represents the
    amount of shared boundary length between two different planning units.
    Cells that occur along the matrix diagonal represent the amount of
    exposed boundary associated with each planning unit that has
    no neighbor (e.g. these value might pertain the length of coastline
    in a planning unit).</p></dd>
    <dt><code>data.frame</code></dt><dd><p>containing the columns <code>"id1"</code>,
    <code>"id2"</code>, and <code>"boundary"</code>. The values in the column
    <code>"boundary"</code> show the total amount of shared boundary between the
    two planning units indicated the columns <code>"id1"</code> and <code>"id2"</code>.
    This format follows the the standard <em>Marxan</em> input format. Note
    that this function requires symmetric boundary data, and so the
    argument to <code>data</code> cannot have the columns <code>"zone1"</code> and
    code"zone2" to specify different amounts of shared boundary lengths
    for different zones. Instead, when dealing with problems with multiple
    zones, the argument to <code>zones</code> should be used to control the
    relative importance of spatially clumping planning units together when
    they are allocated to different zones.</p></dd>
    </dl>
    <p>The boundary penalties are calculated using the following equations. Let
  \(I\) represent the set of planning units, \(Z\) represent
  the set of management zones, and $$X_iz$$ represent the decision
  variable for planning unit \(i\) for in zone \(z\) (e.g. with binary
  values one indicating if planning unit is allocated or not). Also, let
  \(p\) represent the argument to <code>penalty</code>, \(E\) represent the
  argument to <code>edge_factor</code>, \(W\) represent the matrix argument to
  <code>zones</code>, and \(B\) represent the matrix argument to zones
  (e.g. generated using <code><a href='boundary_matrix.html'>boundary_matrix</a></code>).</p>
<p>$$
  \sum_{i}^{I} \sum_{j}^{I} \sum_{z}^{Z} (\mathit{ifelse}(i == j, E_z, 1)
  \times p \times W_{zz} B_{ij}) + \sum_{i}^{I} \sum_{j}^{I} \sum_{z}^{Z}
  \sum_{y}^{Z} (-2 \times p \times X_{iz} \times X_{jy} \times W_{zy} \times
  B_{ij})$$</p>
<p>Note that when the problem objective is to maximize some measure of
 benefit and not minimize some measure of cost, the term \(p\) is
 replaced with \(-p\).</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Ball IR, Possingham HP, and Watts M (2009) <em>Marxan and relatives:
Software for spatial conservation prioritisation</em> in Spatial conservation
prioritisation: Quantitative methods and computational tools. Eds Moilanen
A, Wilson KA, and Possingham HP. Oxford University Press, Oxford, UK.</p>
<p>Beyer HL, Dujardin Y, Watts ME, and Possingham HP (2016) Solving
conservation planning problems with integer linear programming.
<em>Ecological Modelling</em>, 228: 14--22.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='penalties.html'>penalties</a></code>.</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># set seed for reproducibility</span>
<span class='fu'>set.seed</span>(<span class='fl'>500</span>)

<span class='co'># load data</span>
<span class='fu'>data</span>(<span class='no'>sim_pu_raster</span>, <span class='no'>sim_features</span>, <span class='no'>sim_pu_zones_stack</span>, <span class='no'>sim_features_zones</span>)

<span class='co'># create minimal problem</span>
<span class='no'>p1</span> <span class='kw'>&lt;-</span> <span class='fu'>problem</span>(<span class='no'>sim_pu_raster</span>, <span class='no'>sim_features</span>) <span class='kw'>%&gt;%</span>
      <span class='fu'>add_min_set_objective</span>() <span class='kw'>%&gt;%</span>
      <span class='fu'>add_relative_targets</span>(<span class='fl'>0.2</span>) <span class='kw'>%&gt;%</span>
      <span class='fu'>add_binary_decisions</span>() <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='add_default_solver.html'>add_default_solver</a></span>()

<span class='co'># create problem with low boundary penalties</span>
<span class='no'>p2</span> <span class='kw'>&lt;-</span> <span class='no'>p1</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>50</span>, <span class='fl'>1</span>)

<span class='co'># create problem with high boundary penalties but outer edges receive</span>
<span class='co'># half the penalty as inner edges</span>
<span class='no'>p3</span> <span class='kw'>&lt;-</span> <span class='no'>p1</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>500</span>, <span class='fl'>0.5</span>)

<span class='co'># create a problem using precomputed boundary data</span>
<span class='no'>bmat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='boundary_matrix.html'>boundary_matrix</a></span>(<span class='no'>sim_pu_raster</span>)
<span class='no'>p4</span> <span class='kw'>&lt;-</span> <span class='no'>p1</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>50</span>, <span class='fl'>1</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>bmat</span>)</div><div class='input'><span class='co'># solve problems</span>
<span class='no'>s</span> <span class='kw'>&lt;-</span> <span class='fu'>stack</span>(<span class='fu'>solve</span>(<span class='no'>p1</span>), <span class='fu'>solve</span>(<span class='no'>p2</span>), <span class='fu'>solve</span>(<span class='no'>p3</span>), <span class='fu'>solve</span>(<span class='no'>p4</span>))</div><div class='output co'>#&gt; Optimize a model with 5 rows, 90 columns and 450 nonzeros
#&gt; Variable types: 0 continuous, 90 integer (90 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 9e-01]
#&gt;   Objective range  [2e+02, 2e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [6e+00, 2e+01]
#&gt; Found heuristic solution: objective 4544.4850483
#&gt; Presolve time: 0.00s
#&gt; Presolved: 5 rows, 90 columns, 450 nonzeros
#&gt; Variable types: 0 continuous, 90 integer (90 binary)
#&gt; Presolved: 5 rows, 90 columns, 450 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 3.899056e+03, 12 iterations, 0.00 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 3899.05601    0    4 4544.48505 3899.05601  14.2%     -    0s
#&gt; H    0     0                    3994.8945897 3899.05601  2.40%     -    0s
#&gt; 
#&gt; Explored 1 nodes (12 simplex iterations) in 0.02 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 2: 3994.89 4544.49 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 3.994894589653e+03, best bound 3.899056011987e+03, gap 2.3990%
#&gt; Optimize a model with 293 rows, 234 columns and 1026 nonzeros
#&gt; Variable types: 0 continuous, 234 integer (234 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+01, 2e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [6e+00, 2e+01]
#&gt; Found heuristic solution: objective 18847.196992
#&gt; Found heuristic solution: objective 4724.4850483
#&gt; Presolve time: 0.00s
#&gt; Presolved: 293 rows, 234 columns, 1026 nonzeros
#&gt; Variable types: 0 continuous, 234 integer (234 binary)
#&gt; Presolved: 293 rows, 234 columns, 1026 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 4.064320e+03, 186 iterations, 0.01 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 4064.31993    0   52 4724.48505 4064.31993  14.0%     -    0s
#&gt; H    0     0                    4205.7108862 4064.31993  3.36%     -    0s
#&gt; 
#&gt; Explored 1 nodes (186 simplex iterations) in 0.02 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 3: 4205.71 4724.49 18847.2 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 4.205710886188e+03, best bound 4.064319933597e+03, gap 3.3619%
#&gt; Optimize a model with 293 rows, 234 columns and 1026 nonzeros
#&gt; Variable types: 0 continuous, 234 integer (234 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+02, 4e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [6e+00, 2e+01]
#&gt; Found heuristic solution: objective 20287.196992
#&gt; Found heuristic solution: objective 5594.4850483
#&gt; Presolve time: 0.00s
#&gt; Presolved: 293 rows, 234 columns, 1026 nonzeros
#&gt; Variable types: 0 continuous, 234 integer (234 binary)
#&gt; Presolved: 293 rows, 234 columns, 1026 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 4.531725e+03, 219 iterations, 0.02 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 4531.72483    0  234 5594.48505 4531.72483  19.0%     -    0s
#&gt;      0     0 4604.44812    0  232 5594.48505 4604.44812  17.7%     -    0s
#&gt;      0     0 4666.25800    0  226 5594.48505 4666.25800  16.6%     -    0s
#&gt;      0     0 4668.72120    0  229 5594.48505 4668.72120  16.5%     -    0s
#&gt;      0     0 4670.58524    0  230 5594.48505 4670.58524  16.5%     -    0s
#&gt;      0     0 4695.57153    0  208 5594.48505 4695.57153  16.1%     -    0s
#&gt; H    0     0                    5464.6715582 4695.57153  14.1%     -    0s
#&gt;      0     2 4695.85460    0  208 5464.67156 4695.85460  14.1%     -    0s
#&gt; H   22    22                    5313.1334450 4696.79448  11.6%  18.4    0s
#&gt; H   27    23                    5239.2617826 4696.79448  10.4%  16.6    0s
#&gt; 
#&gt; Cutting planes:
#&gt;   Gomory: 3
#&gt; 
#&gt; Explored 61 nodes (1437 simplex iterations) in 0.45 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 5: 5239.26 5313.13 5464.67 ... 20287.2
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 5.239261782647e+03, best bound 4.742318441636e+03, gap 9.4850%
#&gt; Optimize a model with 293 rows, 234 columns and 1026 nonzeros
#&gt; Variable types: 0 continuous, 234 integer (234 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+01, 2e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [6e+00, 2e+01]
#&gt; Found heuristic solution: objective 18847.196992
#&gt; Found heuristic solution: objective 4724.4850483
#&gt; Presolve time: 0.00s
#&gt; Presolved: 293 rows, 234 columns, 1026 nonzeros
#&gt; Variable types: 0 continuous, 234 integer (234 binary)
#&gt; Presolved: 293 rows, 234 columns, 1026 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 4.064320e+03, 186 iterations, 0.01 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 4064.31993    0   52 4724.48505 4064.31993  14.0%     -    0s
#&gt; H    0     0                    4205.7108862 4064.31993  3.36%     -    0s
#&gt; 
#&gt; Explored 1 nodes (186 simplex iterations) in 0.02 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 3: 4205.71 4724.49 18847.2 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 4.205710886188e+03, best bound 4.064319933597e+03, gap 3.3619%</div><div class='input'>
<span class='co'># plot solutions</span>
<span class='fu'>plot</span>(<span class='no'>s</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"basic solution"</span>, <span class='st'>"small penalties"</span>, <span class='st'>"high penalties"</span>,
                 <span class='st'>"precomputed data"</span>), <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>box</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='img'><img src='add_boundary_penalties-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># create minimal problem with multiple zones and limit the run-time for</span>
<span class='co'># solver to 10 seconds so this example doesn't take too long</span>
<span class='no'>p5</span> <span class='kw'>&lt;-</span> <span class='fu'>problem</span>(<span class='no'>sim_pu_zones_stack</span>, <span class='no'>sim_features_zones</span>) <span class='kw'>%&gt;%</span>
      <span class='fu'>add_min_set_objective</span>() <span class='kw'>%&gt;%</span>
      <span class='fu'>add_relative_targets</span>(<span class='fu'>matrix</span>(<span class='fl'>0.2</span>, <span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>3</span>)) <span class='kw'>%&gt;%</span>
      <span class='fu'>add_binary_decisions</span>() <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='add_default_solver.html'>add_default_solver</a></span>(<span class='kw'>time_limit</span> <span class='kw'>=</span> <span class='fl'>10</span>)

<span class='co'># create zone matrix which favors clumping planning units that are</span>
<span class='co'># allocated to the same zone together - note that this is the default</span>
<span class='no'>zm6</span> <span class='kw'>&lt;-</span> <span class='fu'>diag</span>(<span class='fl'>3</span>)
<span class='fu'>print</span>(<span class='no'>zm6</span>)</div><div class='output co'>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    0    0
#&gt; [2,]    0    1    0
#&gt; [3,]    0    0    1</div><div class='input'>
<span class='co'># create problem with the zone matrix and low penalties</span>
<span class='no'>p6</span> <span class='kw'>&lt;-</span> <span class='no'>p5</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>50</span>, <span class='kw'>zone</span> <span class='kw'>=</span> <span class='no'>zm6</span>)

<span class='co'># create another problem with the same zone matrix and higher penalties</span>
<span class='no'>p7</span> <span class='kw'>&lt;-</span> <span class='no'>p5</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>500</span>, <span class='kw'>zone</span> <span class='kw'>=</span> <span class='no'>zm6</span>)

<span class='co'># create zone matrix which favors clumping units that are allocated to</span>
<span class='co'># different zones together</span>
<span class='no'>zm8</span> <span class='kw'>&lt;-</span> <span class='fu'>matrix</span>(<span class='fl'>1</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>3</span>)
<span class='fu'>diag</span>(<span class='no'>zm8</span>) <span class='kw'>&lt;-</span> <span class='fl'>0</span>
<span class='fu'>print</span>(<span class='no'>zm8</span>)</div><div class='output co'>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    0    1    1
#&gt; [2,]    1    0    1
#&gt; [3,]    1    1    0</div><div class='input'>
<span class='co'># create problem with the zone matrix</span>
<span class='no'>p8</span> <span class='kw'>&lt;-</span> <span class='no'>p5</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>500</span>, <span class='kw'>zone</span> <span class='kw'>=</span> <span class='no'>zm8</span>)

<span class='co'># create zone matrix which strongly favors clumping units</span>
<span class='co'># that are allocated to the same zone together. It will also prefer</span>
<span class='co'># clumping planning units in zones 1 and 2 together over having</span>
<span class='co'># these planning units with no neighbors in the solution</span>
<span class='no'>zm9</span> <span class='kw'>&lt;-</span> <span class='fu'>diag</span>(<span class='fl'>3</span>)
<span class='no'>zm9</span>[<span class='fu'>upper.tri</span>(<span class='no'>zm9</span>)] <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fl'>0.3</span>, <span class='fl'>0</span>, <span class='fl'>0</span>)
<span class='no'>zm9</span>[<span class='fu'>lower.tri</span>(<span class='no'>zm9</span>)] <span class='kw'>&lt;-</span> <span class='no'>zm9</span>[<span class='fu'>upper.tri</span>(<span class='no'>zm9</span>)]
<span class='fu'>print</span>(<span class='no'>zm9</span>)</div><div class='output co'>#&gt;      [,1] [,2] [,3]
#&gt; [1,]  1.0  0.3    0
#&gt; [2,]  0.3  1.0    0
#&gt; [3,]  0.0  0.0    1</div><div class='input'>
<span class='co'># create problem with the zone matrix</span>
<span class='no'>p9</span> <span class='kw'>&lt;-</span> <span class='no'>p5</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>500</span>, <span class='kw'>zone</span> <span class='kw'>=</span> <span class='no'>zm9</span>)

<span class='co'># create zone matrix which favors clumping planning units in zones 1 and 2</span>
<span class='co'># together, and favors planning units in zone 3 being spread out</span>
<span class='co'># (i.e. negative clumping)</span>
<span class='no'>zm10</span> <span class='kw'>&lt;-</span> <span class='fu'>diag</span>(<span class='fl'>3</span>)
<span class='no'>zm10</span>[<span class='fl'>3</span>, <span class='fl'>3</span>] <span class='kw'>&lt;-</span> -<span class='fl'>1</span>
<span class='fu'>print</span>(<span class='no'>zm10</span>)</div><div class='output co'>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    0    0
#&gt; [2,]    0    1    0
#&gt; [3,]    0    0   -1</div><div class='input'>
<span class='co'># create problem with the zone matrix</span>
<span class='no'>p10</span> <span class='kw'>&lt;-</span> <span class='no'>p5</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>500</span>, <span class='kw'>zone</span> <span class='kw'>=</span> <span class='no'>zm10</span>)</div><div class='input'><span class='co'># solve problems</span>
<span class='no'>s2</span> <span class='kw'>&lt;-</span> <span class='fu'>stack</span>(<span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='fu'>solve</span>(<span class='no'>p5</span>)), <span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='fu'>solve</span>(<span class='no'>p6</span>)),
            <span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='fu'>solve</span>(<span class='no'>p7</span>)), <span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='fu'>solve</span>(<span class='no'>p8</span>)),
            <span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='fu'>solve</span>(<span class='no'>p9</span>)), <span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='fu'>solve</span>(<span class='no'>p10</span>)))</div><div class='output co'>#&gt; Optimize a model with 105 rows, 270 columns and 1620 nonzeros
#&gt; Variable types: 0 continuous, 270 integer (270 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [2e+02, 2e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 2e+01]
#&gt; Found heuristic solution: objective 13103.242827
#&gt; Presolve time: 0.00s
#&gt; Presolved: 105 rows, 270 columns, 1620 nonzeros
#&gt; Variable types: 0 continuous, 270 integer (270 binary)
#&gt; Presolved: 105 rows, 270 columns, 1620 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 1.199145e+04, 211 iterations, 0.01 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 11991.4483    0   18 13103.2428 11991.4483  8.48%     -    0s
#&gt; 
#&gt; Explored 1 nodes (211 simplex iterations) in 0.02 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 1: 13103.2 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 1.310324282660e+04, best bound 1.199144828715e+04, gap 8.4849%
#&gt; Optimize a model with 975 rows, 705 columns and 3360 nonzeros
#&gt; Variable types: 0 continuous, 705 integer (705 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+01, 2e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 2e+01]
#&gt; Found heuristic solution: objective 14008.242827
#&gt; Presolve time: 0.03s
#&gt; Presolved: 975 rows, 705 columns, 3360 nonzeros
#&gt; Variable types: 0 continuous, 705 integer (705 binary)
#&gt; Presolved: 975 rows, 705 columns, 3360 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 1.228259e+04, 618 iterations, 0.03 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 12282.5861    0  310 14008.2428 12282.5861  12.3%     -    0s
#&gt; H    0     0                    13663.653936 12282.5861  10.1%     -    0s
#&gt; H    0     0                    13536.860676 12282.5861  9.27%     -    0s
#&gt; 
#&gt; Explored 1 nodes (618 simplex iterations) in 0.09 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 3: 13536.9 13663.7 14008.2 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 1.353686067555e+04, best bound 1.228258611787e+04, gap 9.2656%
#&gt; Optimize a model with 975 rows, 705 columns and 3360 nonzeros
#&gt; Variable types: 0 continuous, 705 integer (705 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+02, 4e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 2e+01]
#&gt; Found heuristic solution: objective 22153.242827
#&gt; Presolve time: 0.04s
#&gt; Presolved: 975 rows, 705 columns, 3360 nonzeros
#&gt; Variable types: 0 continuous, 705 integer (705 binary)
#&gt; Presolved: 975 rows, 705 columns, 3360 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 1.362015e+04, 713 iterations, 0.09 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 13620.1452    0  655 22153.2428 13620.1452  38.5%     -    0s
#&gt; H    0     0                    20402.662987 13620.1452  33.2%     -    0s
#&gt; H    0     0                    19942.018025 13620.1452  31.7%     -    0s
#&gt;      0     0 13772.8695    0  664 19942.0180 13772.8695  30.9%     -    0s
#&gt; H    0     0                    19505.929401 13772.8695  29.4%     -    0s
#&gt;      0     0 13775.6927    0  659 19505.9294 13775.6927  29.4%     -    0s
#&gt;      0     0 13831.1396    0  617 19505.9294 13831.1396  29.1%     -    0s
#&gt; H    0     0                    19413.695755 13831.1396  28.8%     -    0s
#&gt;      0     0 13848.8749    0  653 19413.6958 13848.8749  28.7%     -    0s
#&gt;      0     0 13848.9144    0  654 19413.6958 13848.9144  28.7%     -    0s
#&gt;      0     0 13848.9144    0  654 19413.6958 13848.9144  28.7%     -    0s
#&gt; H    0     0                    19270.768272 13848.9144  28.1%     -    1s
#&gt; H    0     0                    18047.070565 13848.9144  23.3%     -    1s
#&gt;      0     2 13849.7373    0  654 18047.0706 13849.7373  23.3%     -    1s
#&gt; H   54    54                    16372.081508 13900.3193  15.1%  29.5    1s
#&gt;    521   469 16327.5926   87  659 16372.0815 14023.1068  14.3%  21.1    5s
#&gt; H  523   446                    15907.944854 14023.1068  11.8%  21.0    6s
#&gt; H  873   550                    15666.969275 14096.6464  10.0%  35.4    9s
#&gt; H  916   541                    15613.301216 14096.6464  9.71%  34.7    9s
#&gt; 
#&gt; Cutting planes:
#&gt;   Gomory: 14
#&gt; 
#&gt; Explored 916 nodes (32783 simplex iterations) in 9.62 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 10: 15613.3 15667 15907.9 ... 20402.7
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 1.561330121557e+04, best bound 1.409664642685e+04, gap 9.7139%
#&gt; Optimize a model with 1845 rows, 1140 columns and 5100 nonzeros
#&gt; Variable types: 0 continuous, 1140 integer (1140 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+02, 2e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 2e+01]
#&gt; Found heuristic solution: objective 8303.2428266
#&gt; Presolve time: 0.05s
#&gt; Presolved: 1845 rows, 1140 columns, 6840 nonzeros
#&gt; Variable types: 0 continuous, 1140 integer (1140 binary)
#&gt; Presolve removed 870 rows and 0 columns
#&gt; Presolved: 975 rows, 1140 columns, 4230 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 2.576990e+03, 1657 iterations, 0.08 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 2576.99025    0  235 8303.24283 2576.99025  69.0%     -    0s
#&gt; H    0     0                    2881.3718971 2576.99025  10.6%     -    0s
#&gt; H    0     0                    2794.5621583 2576.99025  7.79%     -    0s
#&gt; 
#&gt; Explored 1 nodes (1745 simplex iterations) in 0.23 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 3: 2794.56 2881.37 8303.24 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 2.794562158270e+03, best bound 2.576990253978e+03, gap 7.7855%
#&gt; Optimize a model with 1555 rows, 995 columns and 4520 nonzeros
#&gt; Variable types: 0 continuous, 995 integer (995 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [3e+01, 4e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 2e+01]
#&gt; Found heuristic solution: objective 21613.242827
#&gt; Presolve time: 0.05s
#&gt; Presolved: 1555 rows, 995 columns, 5680 nonzeros
#&gt; Variable types: 0 continuous, 995 integer (995 binary)
#&gt; Presolve removed 580 rows and 0 columns
#&gt; Presolved: 975 rows, 995 columns, 3940 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 1.362015e+04, 729 iterations, 0.07 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 13620.1452    0  655 21613.2428 13620.1452  37.0%     -    0s
#&gt; H    0     0                    20459.004219 13620.1452  33.4%     -    0s
#&gt; H    0     0                    19358.220264 13620.1452  29.6%     -    0s
#&gt;      0     0 13728.0346    0  671 19358.2203 13728.0346  29.1%     -    0s
#&gt; H    0     0                    19282.621070 13728.0346  28.8%     -    0s
#&gt;      0     0 13728.7005    0  671 19282.6211 13728.7005  28.8%     -    0s
#&gt;      0     0 13794.3936    0  666 19282.6211 13794.3936  28.5%     -    0s
#&gt; H    0     0                    18516.144159 13794.3936  25.5%     -    0s
#&gt;      0     0 13829.0521    0  621 18516.1442 13829.0521  25.3%     -    0s
#&gt; H    0     0                    18309.826717 13829.0521  24.5%     -    0s
#&gt;      0     0 13829.4190    0  621 18309.8267 13829.4190  24.5%     -    0s
#&gt; H    0     0                    18002.402825 13829.4190  23.2%     -    1s
#&gt; H    0     0                    17285.606997 13829.4190  20.0%     -    1s
#&gt;      0     2 13832.9734    0  621 17285.6070 13832.9734  20.0%     -    1s
#&gt; H  109    90                    16700.638549 13833.0853  17.2%  32.6    2s
#&gt; H  194   137                    16176.476549 13884.6561  14.2%  31.2    2s
#&gt; H  402   268                    15987.459165 13917.3059  12.9%  30.7    3s
#&gt; H  510   342                    15987.347400 13938.7090  12.8%  30.3    4s
#&gt;    516   346 15468.4886   29  641 15987.3474 13938.7090  12.8%  29.9    5s
#&gt; H  516   329                    15696.999572 13938.7090  11.2%  29.9    5s
#&gt; H  521   316                    15569.810028 13938.7090  10.5%  29.6    7s
#&gt; H  525   302                    15478.675363 13938.7090  9.95%  29.4   10s
#&gt; 
#&gt; Cutting planes:
#&gt;   Gomory: 16
#&gt;   Zero half: 1
#&gt; 
#&gt; Explored 525 nodes (17834 simplex iterations) in 10.00 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 10: 15478.7 15569.8 15697 ... 18309.8
#&gt; 
#&gt; Time limit reached
#&gt; Best objective 1.547867536303e+04, best bound 1.393870903810e+04, gap 9.9490%
#&gt; Optimize a model with 1120 rows, 705 columns and 3795 nonzeros
#&gt; Variable types: 0 continuous, 705 integer (705 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+01, 4e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 2e+01]
#&gt; Found heuristic solution: objective 15601.521733
#&gt; Presolve time: 0.05s
#&gt; Presolved: 1120 rows, 705 columns, 3940 nonzeros
#&gt; Variable types: 0 continuous, 705 integer (705 binary)
#&gt; Presolved: 1120 rows, 705 columns, 3940 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 9.328641e+03, 569 iterations, 0.07 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 9328.64105    0  481 15601.5217 9328.64105  40.2%     -    0s
#&gt; H    0     0                    14474.551688 9328.64105  35.6%     -    0s
#&gt; H    0     0                    13760.910690 9328.64105  32.2%     -    0s
#&gt;      0     0 9395.88858    0  460 13760.9107 9395.88858  31.7%     -    0s
#&gt; H    0     0                    13506.788873 9395.88858  30.4%     -    0s
#&gt;      0     0 9413.71324    0  462 13506.7889 9413.71324  30.3%     -    0s
#&gt;      0     0 9451.06972    0  498 13506.7889 9451.06972  30.0%     -    0s
#&gt; H    0     0                    13203.009921 9451.06972  28.4%     -    0s
#&gt;      0     0 9451.43194    0  497 13203.0099 9451.43194  28.4%     -    0s
#&gt;      0     0 9457.19382    0  451 13203.0099 9457.19382  28.4%     -    1s
#&gt; H    0     0                    12940.432767 9457.19382  26.9%     -    1s
#&gt;      0     0 9457.30648    0  452 12940.4328 9457.30648  26.9%     -    1s
#&gt;      0     0 9462.30609    0  522 12940.4328 9462.30609  26.9%     -    1s
#&gt; H    0     0                    12334.114866 9462.30609  23.3%     -    1s
#&gt;      0     0 9463.29396    0  494 12334.1149 9463.29396  23.3%     -    1s
#&gt;      0     0 9463.50389    0  495 12334.1149 9463.50389  23.3%     -    1s
#&gt;      0     0 9463.51345    0  495 12334.1149 9463.51345  23.3%     -    1s
#&gt;      0     0 9469.65414    0  520 12334.1149 9469.65414  23.2%     -    1s
#&gt; H    0     0                    12303.016079 9469.65414  23.0%     -    1s
#&gt; H    0     0                    11427.427923 9469.65414  17.1%     -    1s
#&gt; H    0     0                    11159.198129 9469.65414  15.1%     -    1s
#&gt;      0     2 9469.70971    0  520 11159.1981 9469.70971  15.1%     -    1s
#&gt; H   27    27                    10881.260025 9469.94081  13.0%  46.9    2s
#&gt; H   54    38                    10722.258500 9469.94081  11.7%  31.6    2s
#&gt; H  165   109                    10519.156500 9521.37061  9.49%  41.9    2s
#&gt; 
#&gt; Cutting planes:
#&gt;   Gomory: 5
#&gt;   Zero half: 16
#&gt; 
#&gt; Explored 165 nodes (7824 simplex iterations) in 2.85 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 10: 10519.2 10722.3 10881.3 ... 13506.8
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 1.051915650047e+04, best bound 9.521370613130e+03, gap 9.4854%</div><div class='input'>
<span class='co'># plot solutions</span>
<span class='fu'>plot</span>(<span class='no'>s2</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"basic solution"</span>, <span class='st'>"within zone clumping (low)"</span>,
                  <span class='st'>"within zone clumping (high)"</span>, <span class='st'>"between zone clumping"</span>,
                  <span class='st'>"within + between clumping"</span>, <span class='st'>"negative clumping"</span>),
     <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>box</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='img'><img src='add_boundary_penalties-2.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://jeffrey-hanson.com'>Jeffrey O Hanson</a>, <a href='http://www.richard-schuster.com/'>Richard Schuster</a>, Nina Morrell, <a href='http://strimas.com'>Matthew Strimas-Mackey</a>, Matthew E Watts, <a href='http://arcese.forestry.ubc.ca'>Peter Arcese</a>, <a href='https://josephrbennett.wordpress.com/'>Joeseph Bennett</a>, Hugh P Possingham.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
  docsearch({
    
    
    apiKey: '486efa122ea6783724263412c5f28ab3',
    indexName: 'prioritizr',
    inputSelector: 'input#search-input.form-control'
  });
</script>


  </body>
</html>

